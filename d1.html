<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./css/d1.css">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <h1>拳皇97 随机选人</h1>
    <div id="riot">
        <div id="close"></div>
            <ul>
                <li>
                    <dl>
                        <dt><img src="img/one.jpg"></dt>
                        <dd>Terry</dd>
                    </dl>
                </li>
                <li>
                        <dl>
                            <dt><img src="img/two.jpg"></dt>
                            <dd>Kasumi</dd>
                        </dl>
                    </li>
                    <li>
                            <dl>
                                <dt><img src="img/three.jpg"></dt>
                                <dd>Robert</dd>
                            </dl>
                        </li>
                        <li>
                                <dl>
                                    <dt><img src="img/four.jpg"></dt>
                                    <dd>Clark</dd>
                                </dl>
                            </li>
                            <li>
                                    <dl>
                                        <dt><img src="img/five.jpg"></dt>
                                        <dd>Alba</dd>
                                    </dl>
                                </li>
                                <li>
                                        <dl>
                                            <dt><img src="img/six.jpg"></dt>
                                            <dd>Krauser</dd>
                                        </dl>
                                    </li>
                                 <li>
                                     <dl>
                                             <dt><img src="img/seven.jpg"></dt>
                                            <dd>Yashiro</dd>
                                     </dl>
                                </li>
                                <li>
                                           <dl>
                                        <dt><img src="img/eight.jpg"></dt>
                                            <dd>Benimuro</dd>
                                     </dl>
                               </li>
                                <li class="star">
                                    <dl>
                                       <dt id="btn">
                                           <img src="img/nine.jpg" id="pic" />
                                        </dt>
                                       <dd>Go</dd>
                                  </dl>
                               </li>
            </ul>
    </div>
    <script>
    //初始化变量：
    var oLi  = document.getElementsByTagName('li');
    var oBtn = document.getElementById('btn');
    var oPic = document.getElementById('pic');
    var num=i=t=0;//计数器(顺时针)

    oBtn.onclick=function(){
            oPic.style.transform="scale(0.6)";
            oPic.style.transition= "1s";

            view();//动画视图(view)
    }

    function view(){
        num = parseInt(Math.random()*10+20);//确定顺时针循环个数(固定)
        console.log('固定：'+num);

        //一。确定循环次数(递归次数)
        if(i<num){//i:已完成li的循环个数(变化)
            i++;//每循环完一个li标签+1
            setTimeout(view,200);
            console.log("动态："+i);
        }
        else{
            i=0;//为下一次重新开始
            oPic.style.transform = "scale(0.8)";
            oPic.style.transition= "1s";
        }

        //二。动画 t:顺时针循环中每个li标签的下标。
        if(t<oLi.length-1){//先清除所有，在设置一个
            for(var j=0; j<oLi.length-1;j++){
                oLi[j].style.border = "2px solid #000";
                oLi[j].style.background= "#fff";
            }
                oLi[t].style.border = "2px solid #f00";
                oLi[t].style.background= "rgba(255,0,0,.4)";
                t++;
        }
        else{
            t=0;
        }
    }
    </script>
</body>
</html>